{"version":3,"sources":["context/AuthContext.js","pages/AdminPage.js","components/SearchView.js","components/ListView.js","context/MapContext.js","img/arrow-back.svg","components/SingleView.js","img/magnifier.svg","img/filter.svg","components/SearchFilter.js","components/Search.js","components/Scrollbar.js","components/Sidebar.js","components/Maps.js","hooks/http.hook.js","components/ReportPanel.js","components/Reports.js","components/Loader.js","pages/MapPage.js","pages/AuthPage.js","hooks/auth.hook.js","App.js","routes.js","index.js"],"names":["noop","AuthContext","createContext","token","userId","login","logout","isAuthenticated","AdminPage","history","useHistory","auth","useContext","to","onClick","event","preventDefault","push","SearchView","props","className","e","searchViewClick","id","href","name","addres","schedule","photo","src","alt","ListView","loading","list","length","map","view","i","address","MapContext","mapState","setMapState","_extends","Object","assign","target","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","SvgArrowBack","_ref","svgRef","title","titleId","x","y","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","SingleView","back","elem","parent","pharmacy","firstAid","emergencyAssistance","staff","foundationYear","SvgFilter","SearchFilter","filledIn","label","value","type","Search","scroll","inputClassName","placeholder","xl","onChange","handleInput","magnifer","handleFilter","filterShow","Scrollbar","documentMouseMoveListener","el","offset","pageY","top","console","log","onDragStart","document","addEventListener","handleSliderDragStart","onDragEnd","removeEventListener","handleSliderDragEnd","Sidebar","panelScrollRef","React","createRef","useState","search","filter","show","state","setState","useEffect","scrollbar","scrollHeight","viewHeight","offsetHeight","querySelector","height","scrollInit","data","modified","updateData","default","obj","toLowerCase","trim","onScroll","scrollTop","current","scrollbarSlider","scrollPanel","scrollToTop","singleView","setSingleView","find","active","geo","split","Maps","onApiAvaliable","ymaps","layout","templateLayoutFactory","createClass","createZoomControlLayout","handleApiAvailable","instanceRef","options","preset","groupByCoordinates","clusterDisableClickZoom","clusterHideIconOnBalloonOpen","geoObjectHideIconOnBalloonOpen","iconColor","geometry","properties","clusterCaption","modules","handlePlacemarkClick","useHttp","callback","deps","setLoading","error","setError","request","useCallback","url","a","method","body","headers","JSON","stringify","fetch","response","json","ok","Error","message","clearError","ReportPanel","multiple","classes","dropdownOptions","alignment","autoTrigger","closeOnClick","constrainWidth","coverTrigger","hover","inDuration","onCloseEnd","onCloseStart","onOpenEnd","onOpenStart","outDuration","disabled","node","small","waves","s","Reports","reportState","setReportState","handleReportButton","marginRight","Loader","MapPage","fetchData","fetched","Math","random","floor","center","zoom","behaviors","controls","Provider","AuthPage","email","password","form","setForm","changeHandler","authHandler","storageName","App","setToken","setUserId","jwtToken","localStorage","setItem","removeItem","parse","getItem","useAuth","routes","path","useRoutes","documentElement","lang","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2dddf1e7.chunk.js","sourcesContent":["import {createContext} from 'react'\r\n\r\nfunction noop() {}\r\n\r\nexport const AuthContext = createContext({\r\n  token: null,\r\n  userId: null,\r\n  login: noop,\r\n  logout: noop,\r\n  isAuthenticated: false\r\n})","import React, {useContext} from 'react'\r\nimport {NavLink, useHistory} from 'react-router-dom'\r\nimport {AuthContext} from \"../context/AuthContext\";\r\n\r\nexport const AdminPage = () => {\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext)\r\n\r\n  const logoutHandler = (event) => {\r\n    event.preventDefault()\r\n    auth.logout()\r\n    history.push('/')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Admin Page</h1>\r\n      <ul>\r\n        <li><NavLink to=\"/\">Карта</NavLink></li>\r\n        <li><button\r\n          onClick={logoutHandler}\r\n        >\r\n          Выйти\r\n        </button></li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport './SearchView.scss'\r\n\r\nexport const SearchView = (props) => {\r\n  return (\r\n    <div\r\n      className=\"search-view\"\r\n      onClick={(e) => {\r\n        props.searchViewClick(e, props.id)\r\n      }}\r\n    >\r\n\r\n      <div className=\"search-view__info\">\r\n\r\n        <div className=\"search-view__title\">\r\n          <a className=\"search-view__link\" href=\"#\">{props.name}</a>\r\n        </div>\r\n\r\n        <div className=\"search-view__address\">\r\n          {props.addres || \"Адрес не указан\"}\r\n        </div>\r\n\r\n        <div className=\"search-view__schedule\">\r\n          {props.schedule || \"График работы не указан\"}\r\n        </div>\r\n\r\n      </div>\r\n\r\n      {props.photo &&\r\n        <div className=\"search-view__photo\">\r\n          <img src={props.photo} alt=\"Photo\"/>\r\n        </div>\r\n      }\r\n\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport './ListView.scss'\r\nimport {SearchView} from \"./SearchView\";\r\n\r\nexport const ListView = (props) => {\r\n  return (\r\n    <div className=\"list-view\">\r\n      {!props.loading ?  props.list.length ? props.list.map((view, i) => (\r\n        <SearchView\r\n          key={i}\r\n          name={view.name}\r\n          addres={view.address}\r\n          id={view.id}\r\n          searchViewClick={props.searchViewClick}\r\n        />\r\n      )) :\r\n        <div className=\"list-view--empty\">\r\n          Таких элементов не найдено\r\n        </div> :\r\n        'loading 1'\r\n      }\r\n    </div>\r\n  )\r\n}","import {createContext} from 'react'\r\n\r\nfunction noop() {}\r\n\r\nexport const MapContext = createContext({\r\n  mapState: null,\r\n  setMapState: noop\r\n})","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M484.14,226.886L306.46,49.202c-5.072-5.072-11.832-7.856-19.04-7.856c-7.216,0-13.972,2.788-19.044,7.856l-16.132,16.136 c-5.068,5.064-7.86,11.828-7.86,19.04c0,7.208,2.792,14.2,7.86,19.264L355.9,207.526H26.58C11.732,207.526,0,219.15,0,234.002 v22.812c0,14.852,11.732,27.648,26.58,27.648h330.496L252.248,388.926c-5.068,5.072-7.86,11.652-7.86,18.864 c0,7.204,2.792,13.88,7.86,18.948l16.132,16.084c5.072,5.072,11.828,7.836,19.044,7.836c7.208,0,13.968-2.8,19.04-7.872 l177.68-177.68c5.084-5.088,7.88-11.88,7.86-19.1C492.02,238.762,489.228,231.966,484.14,226.886z\"\n})));\n\nfunction SvgArrowBack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"single-view__arrow--svg\",\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 492.004 492.004\",\n    style: {\n      enableBackground: \"new 0 0 492.004 492.004\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowBack);\nexport default __webpack_public_path__ + \"static/media/arrow-back.3dbdea0b.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\r\nimport './SingleView.scss'\r\nimport {ReactComponent as ArrowBack} from '../img/arrow-back.svg'\r\n\r\n/*\r\n*   ToDO\r\n*    - Фикс скролла ненужного\r\n*\r\n* */\r\n\r\nexport const SingleView = (props) => {\r\n\r\n  return (\r\n    <div className=\"single-view\">\r\n\r\n      <div className=\"single-view__info\">\r\n\r\n        <div className=\"single-view__block single-view__header\">\r\n\r\n          <div className=\"single-view__title\">\r\n\r\n            <button\r\n              className=\"single-view__button single-view__button--back\"\r\n              onClick={props.back}\r\n            >\r\n              <ArrowBack />\r\n            </button>\r\n\r\n            {props.elem.name}\r\n          </div>\r\n\r\n          <div className=\"single-view__type\">\r\n            Фельдшерско-акушерский пункт\r\n          </div>\r\n\r\n          <div className=\"single-view__schedule\">\r\n            {props.elem.schedule || \"График работы не указан\"}\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div className=\"single-view__block\">\r\n\r\n          <div className=\"single-view__elem single-view__address\">\r\n\r\n            <div className=\"single-view__subtitle\">\r\n              Адрес:\r\n            </div>\r\n\r\n            {props.elem.address || \"Адрес не указан\"}\r\n          </div>\r\n\r\n          <div className=\"single-view__elem\">\r\n\r\n            <div className=\"single-view__subtitle\">\r\n              Организация:\r\n            </div>\r\n\r\n            {props.elem.parent}\r\n\r\n          </div>\r\n\r\n          <div className=\"single-view__elem\">\r\n\r\n            <div className=\"single-view__subtitle single-view__subtitle--inline\">\r\n              Аптека:\r\n            </div>\r\n\r\n            {props.elem.pharmacy ? 'есть' : 'отстуствует'}\r\n\r\n          </div>\r\n\r\n          <div className=\"single-view__elem\">\r\n\r\n            <div className=\"single-view__subtitle single-view__subtitle--inline\">\r\n              Первая помощь:\r\n            </div>\r\n\r\n            {props.elem.firstAid ? 'есть' : 'отстуствует'}\r\n\r\n          </div>\r\n\r\n          <div className=\"single-view__elem\">\r\n\r\n            <div className=\"single-view__subtitle single-view__subtitle--inline\">\r\n              Экстренная помощь:\r\n            </div>\r\n\r\n            {props.emergencyAssistance ? 'есть' : 'отстуствует'}\r\n\r\n          </div>\r\n\r\n          <div className=\"single-view__elem\">\r\n\r\n            <div className=\"single-view__subtitle single-view__subtitle--inline\">\r\n              Укомплектованность фельдшерами:\r\n            </div>\r\n\r\n            {props.elem.staff || 0}\r\n\r\n          </div>\r\n\r\n          <div className=\"single-view__elem\">\r\n\r\n            <div className=\"single-view__subtitle single-view__subtitle--inline\">\r\n              Год основания:\r\n            </div>\r\n\r\n            {props.foundationYear || 'неизвестно'}\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n      {props.elem.photo &&\r\n      <div className=\"single-view__photo\">\r\n        <img src={props.elem.photo} alt=\"Photo\"/>\r\n      </div>\r\n      }\r\n\r\n    </div>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/magnifier.28b0ad10.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m420.404 0h-328.808c-50.506 0-91.596 41.09-91.596 91.596v328.809c0 50.505 41.09 91.595 91.596 91.595h328.809c50.505 0 91.595-41.09 91.595-91.596v-328.808c0-50.506-41.09-91.596-91.596-91.596zm61.596 420.404c0 33.964-27.632 61.596-61.596 61.596h-328.808c-33.964 0-61.596-27.632-61.596-61.596v-328.808c0-33.964 27.632-61.596 61.596-61.596h328.809c33.963 0 61.595 27.632 61.595 61.596z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m432.733 112.467h-228.461c-6.281-18.655-23.926-32.133-44.672-32.133s-38.391 13.478-44.672 32.133h-35.661c-8.284 0-15 6.716-15 15s6.716 15 15 15h35.662c6.281 18.655 23.926 32.133 44.672 32.133s38.391-13.478 44.672-32.133h228.461c8.284 0 15-6.716 15-15s-6.716-15-15.001-15zm-273.133 32.133c-9.447 0-17.133-7.686-17.133-17.133s7.686-17.133 17.133-17.133 17.133 7.686 17.133 17.133-7.686 17.133-17.133 17.133z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m432.733 241h-35.662c-6.281-18.655-23.927-32.133-44.672-32.133s-38.39 13.478-44.671 32.133h-228.461c-8.284 0-15 6.716-15 15s6.716 15 15 15h228.461c6.281 18.655 23.927 32.133 44.672 32.133s38.391-13.478 44.672-32.133h35.662c8.284 0 15-6.716 15-15s-6.716-15-15.001-15zm-80.333 32.133c-9.447 0-17.133-7.686-17.133-17.133s7.686-17.133 17.133-17.133 17.133 7.686 17.133 17.133-7.686 17.133-17.133 17.133z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m432.733 369.533h-164.194c-6.281-18.655-23.926-32.133-44.672-32.133s-38.391 13.478-44.672 32.133h-99.928c-8.284 0-15 6.716-15 15s6.716 15 15 15h99.928c6.281 18.655 23.926 32.133 44.672 32.133s38.391-13.478 44.672-32.133h164.195c8.284 0 15-6.716 15-15s-6.716-15-15.001-15zm-208.866 32.134c-9.447 0-17.133-7.686-17.133-17.133s7.686-17.133 17.133-17.133 17.133 7.685 17.133 17.132-7.686 17.134-17.133 17.134z\"\n}));\n\nfunction SvgFilter(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"filter_icon\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFilter);\nexport default __webpack_public_path__ + \"static/media/filter.bd5ce25a.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\r\nimport './SearchFilter.scss'\r\nimport {TextInput, Checkbox, CardPanel} from \"react-materialize\";\r\n\r\nexport const SearchFilter = (props) => {\r\n  return (\r\n\r\n    <CardPanel className=\"search-filter white\">\r\n      <div className=\"search-filter__wrapper\">\r\n\r\n        <div className=\"search-filter__block\">\r\n          <Checkbox\r\n            filledIn\r\n            id=\"search-filter__pharmacy\"\r\n            label=\"Аптека\"\r\n            value=\"pharmacy\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"search-filter__block\">\r\n          <Checkbox\r\n            filledIn\r\n            id=\"search-filter__first-aid\"\r\n            label=\"Первая помощь\"\r\n            value=\"first-aid\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"search-filter__block\">\r\n          <Checkbox\r\n            filledIn\r\n            id=\"search-filter__emergency-assistance\"\r\n            label=\"Экстренная помощь\"\r\n            value=\"emergency-assistance\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"search-filter__block\">\r\n          <Checkbox\r\n            filledIn\r\n            id=\"search-filter__staffing\"\r\n            label=\"Укомплектованность фельдшерами\"\r\n            value=\"staffing\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"search-filter__block\">\r\n          <TextInput\r\n            id=\"search-filter__year-foundation\"\r\n            type=\"number\"\r\n            label=\"Год основания\"\r\n          />\r\n        </div>\r\n\r\n      </div>\r\n    </CardPanel>\r\n  )\r\n}","import React from 'react'\r\nimport './ListView.scss'\r\nimport {CardPanel, TextInput} from \"react-materialize\";\r\nimport magnifer from \"../img/magnifier.svg\";\r\nimport {ReactComponent as Filter} from \"../img/filter.svg\";\r\nimport {SearchFilter} from \"./SearchFilter\";\r\n\r\nexport const Search = (props) => {\r\n\r\n  return (\r\n    <CardPanel className={ props.scroll ? \"sidebar__header\" : \"sidebar__header sidebar__header--fixed\"}>\r\n\r\n      <div className=\"sidebar__search\">\r\n\r\n        <TextInput\r\n          id=\"sidebar-input\"\r\n          inputClassName=\"sidebar__text-input\"\r\n          placeholder=\"Поиск\"\r\n          xl\r\n          onChange={props.handleInput}\r\n        />\r\n\r\n      </div>\r\n\r\n      <div className=\"sidebar__controls\">\r\n\r\n        <button\r\n          className=\"sidebar__button sidebar__button--search\"\r\n        >\r\n          <img src={magnifer} alt=\"Поиск\"/>\r\n        </button>\r\n\r\n        <button\r\n          className=\"sidebar__button sidebar__button--filter\"\r\n          onClick={props.handleFilter}\r\n        >\r\n          <Filter />\r\n        </button>\r\n      </div>\r\n\r\n      { props.filterShow ?\r\n        <SearchFilter />\r\n        : null\r\n      }\r\n\r\n    </CardPanel>\r\n  )\r\n}","import React from 'react'\r\nimport './Scrollbar.scss'\r\n\r\n/*\r\n*   ToDo\r\n*    - Передвигаемый слайдер\r\n*    - Убирается если окно не скролится\r\n*\r\n* */\r\n\r\nexport const Scrollbar = (props) => {\r\n\r\n  let startDrag = 0\r\n\r\n  const documentMouseMoveListener = (event, el) => {\r\n    const offset = event.pageY\r\n    el.style.top = offset + 'px'\r\n    console.log(offset)\r\n  }\r\n\r\n  const handleSliderDragEnd = (e) => {\r\n    document.removeEventListener('mousemove', documentMouseMoveListener(e, e.target), false)\r\n  }\r\n\r\n  const handleSliderDragStart = (e) => {\r\n    console.log('Start', e)\r\n    const el = e.target\r\n\r\n    document.addEventListener('mousemove', documentMouseMoveListener(e, el), false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"scrollbar\">\r\n      <div className=\"scrollbar__slider\"\r\n        onDragStart={(e) => handleSliderDragStart(e)}\r\n        onDragEnd={(e) => handleSliderDragEnd(e)}\r\n      />\r\n    </div>\r\n  )\r\n}","import React, {useContext, useEffect, useState} from 'react'\r\nimport {ListView} from './ListView'\r\nimport './Sidebar.scss'\r\nimport {MapContext} from \"../context/MapContext\"\r\nimport {SingleView} from \"./SingleView\"\r\nimport {Search} from \"./Search\"\r\nimport {Scrollbar} from \"./Scrollbar\";\r\n\r\nexport const Sidebar = (props) => {\r\n  let panelScrollRef = React.createRef()\r\n\r\n  const [state, setState] = useState({\r\n    scroll: false,\r\n    search: null,\r\n    filter: {\r\n      show: false\r\n    }\r\n  })\r\n\r\n  const {mapState, setMapState} = useContext(MapContext)\r\n\r\n  const searchViewClick = (e, id) => {\r\n    let el = props.data.default.find(el => el.id === id)\r\n    el.active = true\r\n\r\n    props.updateData([el])\r\n    setMapState({...mapState, 'center': el.geo.split(', ')})\r\n    props.setSingleView(true)\r\n  }\r\n\r\n  const handleFilterButton = (e) => {\r\n    setState({...state, 'filter': {\r\n        ...state.filter,\r\n        show: !state.filter.show\r\n      }})\r\n  }\r\n\r\n  const HandleInputSearch = (e) => {\r\n    setState({...state, 'search': e.target.value.trim().toLowerCase()})\r\n  }\r\n\r\n  const scrollInit = (elem, scrollbar) => {\r\n    const scrollHeight = elem.scrollHeight\r\n    const viewHeight = elem.offsetHeight\r\n\r\n    scrollbar.querySelector('.scrollbar__slider').style.height = viewHeight * viewHeight / scrollHeight + 'px';\r\n  }\r\n\r\n  const handlePanelScroll = (e) => {\r\n    const scrollTop = panelScrollRef.current.scrollTop\r\n\r\n    if (scrollTop > 50) {\r\n      setState({...state, 'scroll': true})\r\n    } else {\r\n      setState({...state, 'scroll': false})\r\n    }\r\n\r\n    const scrollbar = document.querySelector('.scrollbar');\r\n    const scrollbarSlider = scrollbar.querySelector('.scrollbar__slider')\r\n    const scrollPanel = document.querySelector('.sidebar__panel');\r\n\r\n    let scrollToTop = scrollPanel.scrollTop / scrollPanel.scrollHeight\r\n\r\n    scrollbarSlider.style.top = scrollToTop * scrollPanel.offsetHeight + 'px'\r\n  }\r\n\r\n  useEffect(() => {\r\n    const scrollElem = document.querySelector('.sidebar__panel')\r\n    const scrollbar = document.querySelector('.scrollbar')\r\n\r\n    scrollInit(scrollElem, scrollbar)\r\n\r\n    console.log(props.data)\r\n  }, [props.data.modified])\r\n\r\n  const handleBack = () => {\r\n    props.updateData(props.data.default)\r\n    props.setSingleView(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n    props.updateData(props.data.default.filter((obj) => {\r\n      return obj.name.toLowerCase().indexOf(state.search) !== -1;\r\n    }))\r\n  }, [state.search])\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n\r\n      <div className=\"sidebar__wrapper\">\r\n\r\n        <Search filterShow={state.filter.show} scroll={state.scroll} handleInput={HandleInputSearch} handleFilter={handleFilterButton}/>\r\n\r\n        <div\r\n          className=\"sidebar__panel\"\r\n          ref={panelScrollRef}\r\n          onScroll={handlePanelScroll}\r\n        >\r\n          {!props.loading && props.singleView ? <SingleView elem={props.data.modified[0]} back={(e) => handleBack(e)}/> : <ListView loading={props.loading} list={props.data.modified} searchViewClick={searchViewClick}/>\r\n          }\r\n\r\n          <Scrollbar />\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}","import React, {useContext, useEffect, useState} from 'react'\r\nimport './Maps.scss'\r\nimport { YMaps, Map, Clusterer, Placemark, Button } from \"react-yandex-maps\"\r\nimport {AuthContext} from \"../context/AuthContext\";\r\nimport {MapContext} from \"../context/MapContext\";\r\n\r\nexport const Maps = (props) => {\r\n  const {mapState, setMapState} = useContext(MapContext)\r\n\r\n  function createZoomControlLayout(ymaps) {\r\n    // Функция по созданию layout'a целиком взята из песочницы яндекс карт\r\n    // https://tech.yandex.com/maps/jsbox/2.1/zoom_layout\r\n    const ZoomLayout = ymaps.templateLayoutFactory.createClass(\"<div id='zoom-in' class='btn'><i class='icon-plus'>1</i></div><br>\")\r\n\r\n    return ZoomLayout\r\n  }\r\n\r\n  const handleApiAvailable = ymaps => {\r\n    console.log(ymaps)\r\n    const layout = createZoomControlLayout(ymaps)\r\n    this.setState({ layout })\r\n  };\r\n\r\n  const getPointData = (el) => {\r\n    return {\r\n      clusterCaption: \"placemark <strong>\" + \"</strong>\"\r\n    };\r\n  };\r\n\r\n  const getPointOptions = () => {\r\n    return {\r\n      preset: 'islands#violetIcon',\r\n      iconColor: '#26a69a'\r\n    };\r\n  };\r\n\r\n  const handlePlacemarkClick = (e, obj) => {\r\n    let el = props.data.default.find(el => el.id === obj.id)\r\n    el.active = true\r\n\r\n    props.updateData([el])\r\n    props.setSingleView(true)\r\n    setMapState({...mapState, 'center': el.geo.split(', ')})\r\n  }\r\n\r\n  return (\r\n    <div className=\"map\">\r\n\r\n      <YMaps\r\n        onApiAvaliable={ymaps => handleApiAvailable(ymaps)}\r\n      >\r\n        <Map\r\n          state={mapState}\r\n          className=\"y-map\"\r\n          instanceRef={mapState}\r\n          //onLoad={ymaps => (map = ymaps)}\r\n        >\r\n          <Clusterer\r\n            options={{\r\n              preset: 'islands#darkGreenClusterIcons',\r\n              groupByCoordinates: false,\r\n              clusterDisableClickZoom: false,\r\n              clusterHideIconOnBalloonOpen: false,\r\n              geoObjectHideIconOnBalloonOpen: false,\r\n              iconColor: '#26a69a'\r\n            }}\r\n          >\r\n            {props.data.modified.map((obj, i) => (\r\n              <Placemark\r\n                key={i}\r\n                geometry={obj.geo.split(', ')}\r\n                properties={getPointData(obj)}\r\n                options={getPointOptions()}\r\n                modules={['geoObject.addon.balloon', 'geoObject.addon.hint']}\r\n                onClick={e => handlePlacemarkClick(e, obj)}\r\n              />\r\n            ))}\r\n          </Clusterer>\r\n\r\n        </Map>\r\n\r\n      </YMaps>\r\n\r\n    </div>\r\n  )\r\n}","import {useCallback, useState} from 'react'\r\n\r\nexport const useHttp = (callback, deps) => {\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(null)\r\n\r\n  const request = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\r\n\r\n    try {\r\n\r\n      if (body) {\r\n        body = JSON.stringify(body)\r\n        headers['Content-Type'] = 'application/json'\r\n      }\r\n\r\n      const response = await fetch(url, {method, body, headers})\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error('useHttp: ' + data.message || 'Что-то пошло не так')\r\n      }\r\n\r\n      setLoading(false)\r\n\r\n      return data\r\n\r\n    } catch (e) {\r\n      setLoading(false)\r\n      setError('useHttp catch: ' + e.message)\r\n      throw e\r\n    }\r\n  }, [])\r\n\r\n  const clearError = useCallback(() => setError(null), [])\r\n\r\n  return {loading, request, error, clearError}\r\n}","import React from 'react'\r\nimport './ReportPanel.scss'\r\nimport {Select, Button, Checkbox, TextInput} from \"react-materialize\";\r\n\r\nexport const ReportPanel = (props) => {\r\n  return (\r\n    <div className=\"report-panel shadow\">\r\n\r\n      <div className=\"report-panel__wrapper\">\r\n\r\n        <div className=\"report-panel__title\">\r\n          Заготовленные отчеты\r\n        </div>\r\n\r\n        <Select\r\n          id=\"report-area\"\r\n          className=\"report-panel__select\"\r\n          multiple={false}\r\n          onChange={function noRefCheck(){}}\r\n          options={{\r\n            classes: '',\r\n            dropdownOptions: {\r\n              alignment: 'left',\r\n              autoTrigger: true,\r\n              closeOnClick: true,\r\n              constrainWidth: true,\r\n              coverTrigger: true,\r\n              hover: false,\r\n              inDuration: 150,\r\n              onCloseEnd: null,\r\n              onCloseStart: null,\r\n              onOpenEnd: null,\r\n              onOpenStart: null,\r\n              outDuration: 250\r\n            }\r\n          }}\r\n          value=\"\"\r\n        >\r\n          <option\r\n            disabled\r\n            value=\"\"\r\n          >\r\n            Выберите область\r\n          </option>\r\n          <option value=\"1\">\r\n            Область 1\r\n          </option>\r\n          <option value=\"2\">\r\n            Область 2\r\n          </option>\r\n          <option value=\"3\">\r\n            Область 3\r\n          </option>\r\n        </Select>\r\n\r\n        <Button\r\n          node=\"button\"\r\n          small\r\n          waves=\"light\"\r\n          className=\"report-panel__button\"\r\n        >\r\n          Отчет об укомплектованности мед. работниками\r\n        </Button>\r\n\r\n        <Button\r\n          node=\"button\"\r\n          small\r\n          waves=\"light\"\r\n          className=\"report-panel__button\"\r\n        >\r\n          Отчет о ФАПах с возможностью оказания первой помощи\r\n        </Button>\r\n\r\n        <Button\r\n          node=\"button\"\r\n          small\r\n          waves=\"light\"\r\n          className=\"report-panel__button\"\r\n        >\r\n          Отчет о ФАПах с аптеками\r\n        </Button>\r\n\r\n      </div>\r\n\r\n      <div className=\"report-panel__wrapper\">\r\n\r\n        <div className=\"report-panel__title\">\r\n          Конструктор отчетов\r\n        </div>\r\n\r\n        <Select\r\n          id=\"report-area\"\r\n          className=\"report-panel__select\"\r\n          multiple={false}\r\n          onChange={function noRefCheck(){}}\r\n          options={{\r\n          classes: '',\r\n          dropdownOptions: {\r\n            alignment: 'left',\r\n            autoTrigger: true,\r\n            closeOnClick: true,\r\n            constrainWidth: true,\r\n            coverTrigger: true,\r\n            hover: false,\r\n            inDuration: 150,\r\n            onCloseEnd: null,\r\n            onCloseStart: null,\r\n            onOpenEnd: null,\r\n            onOpenStart: null,\r\n            outDuration: 250\r\n          }\r\n        }}\r\n          value=\"\"\r\n          >\r\n        <option\r\n          disabled\r\n          value=\"\"\r\n        >\r\n          Выберите область\r\n        </option>\r\n        <option value=\"1\">\r\n          Область 1\r\n        </option>\r\n        <option value=\"2\">\r\n          Область 2\r\n        </option>\r\n        <option value=\"3\">\r\n          Область 3\r\n        </option>\r\n      </Select>\r\n\r\n        <div className=\"report-filter__block\">\r\n          <Checkbox\r\n            filledIn\r\n            id=\"report-filter__pharmacy\"\r\n            label=\"Аптека\"\r\n            value=\"pharmacy\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"report-filter__block\">\r\n          <Checkbox\r\n            filledIn\r\n            id=\"report-filter__first-aid\"\r\n            label=\"Первая помощь\"\r\n            value=\"first-aid\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"report-filter__block\">\r\n          <Checkbox\r\n            filledIn\r\n            id=\"report-filter__emergency-assistance\"\r\n            label=\"Экстренная помощь\"\r\n            value=\"emergency-assistance\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"report-filter__block\">\r\n          <Checkbox\r\n            filledIn\r\n            id=\"report-filter__staffing\"\r\n            label=\"Укомплектованность фельдшерами\"\r\n            value=\"staffing\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"report-filter__block\">\r\n          <TextInput\r\n            id=\"report-filter__year-foundation\"\r\n            type=\"number\"\r\n            s\r\n            label=\"Год основания\"\r\n          />\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div className=\"report-panel__controls\">\r\n\r\n        <Button\r\n          node=\"button\"\r\n          small\r\n          waves=\"light\"\r\n        >\r\n          Сформировать отчет\r\n        </Button>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}","import React, {useState} from 'react'\r\nimport 'materialize-css';\r\nimport { Button, Card, Row, Col } from 'react-materialize';\r\nimport './Reports.scss'\r\nimport {ReportPanel} from \"./ReportPanel\";\r\n\r\nexport const Reports = (props) => {\r\n\r\n  const [reportState, setReportState] = useState({\r\n    show: false\r\n  })\r\n\r\n  const handleReportButton = (e) => {\r\n    setReportState({...reportState, 'show': !reportState.show})\r\n  }\r\n\r\n  return (\r\n    <div className=\"reports\">\r\n\r\n      <div className=\"reports__controls\">\r\n\r\n        <Button\r\n          node=\"button\"\r\n          small\r\n          style={{\r\n            marginRight: '5px'\r\n          }}\r\n          waves=\"light\"\r\n          onClick={handleReportButton}\r\n        >\r\n          Отчеты\r\n        </Button>\r\n\r\n        <Button\r\n          node=\"button\"\r\n          small\r\n          style={{\r\n            marginRight: '5px'\r\n          }}\r\n          waves=\"light\"\r\n          onClick={handleReportButton}\r\n        >\r\n          Отчеты по запросу\r\n        </Button>\r\n\r\n      </div>\r\n\r\n      { reportState.show ?\r\n        <ReportPanel />\r\n        : null\r\n      }\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\n\r\nexport const Loader = (props) => {\r\n\r\n  return (\r\n    <div>Loading ...</div>\r\n  )\r\n}","import React, {useCallback, useEffect, useState} from 'react'\r\nimport {Sidebar} from \"../components/Sidebar\"\r\nimport {Maps} from \"../components/Maps\"\r\nimport {useHttp} from \"../hooks/http.hook\"\r\nimport {MapContext} from \"../context/MapContext\"\r\nimport {Reports} from \"../components/Reports\";\r\nimport {Loader} from \"../components/Loader\";\r\n\r\n\r\n/*\r\n*   ToDo:\r\n*    - Отчеты\r\n*    - Поиск по фильтрам\r\n*    - Пофиксить пропадание при увелечении\r\n*    - scrollbar\r\n*\r\n*  */\r\n\r\nexport const MapPage = () => {\r\n\r\n  const {loading, error, request, clearError} = useHttp()\r\n  const [state, setState] = useState({\r\n    data: {\r\n      default: [],\r\n      modified: []\r\n    }\r\n  })\r\n  const [singleView, setSingleView] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      console.log('Ошибка: ' + error)\r\n    }\r\n    clearError()\r\n  }, [clearError, error])\r\n\r\n  const fetchData = useCallback(async () => {\r\n    try {\r\n      const fetched = await request('../data.json', 'POST', null, {})\r\n\r\n      console.log(fetched)\r\n\r\n      //Delete\r\n     fetched.data.map((el, i) => {\r\n        el.id = i\r\n        el.active = false\r\n        el.pharmacy = Math.random() < 0.5\r\n        el.firstAid = Math.random() < 0.5\r\n        el.emergencyAssistance = Math.random() < 0.5\r\n        el.staff = Math.floor((Math.random() * 10) + 1);\r\n      })\r\n\r\n      setState({\r\n        ...state,\r\n        'data': {\r\n          default: fetched.data,\r\n          modified: fetched.data\r\n        }\r\n      })\r\n\r\n    } catch (e) {}\r\n  }, [request])\r\n\r\n\r\n  useEffect(() => {\r\n    fetchData()\r\n  }, [fetchData])\r\n\r\n  const updateData = (value) => {\r\n    setState({...state,\r\n      'data': {\r\n        default: state.data.default,\r\n        modified: value\r\n      }})\r\n  }\r\n\r\n  const [mapState, setMapState] = useState({\r\n    center: [52.287054, 104.281047],\r\n    zoom: 9,\r\n    behaviors: [\"default\", \"scrollZoom\"],\r\n    controls: [],\r\n  });\r\n\r\n  if (loading) {\r\n    return <Loader />\r\n  }\r\n\r\n  return (\r\n    <div className=\"container--map\">\r\n      <MapContext.Provider value={{\r\n        mapState, setMapState\r\n      }}>\r\n\r\n        {\r\n          !loading &&\r\n          <Sidebar\r\n            loading={loading}\r\n            data={state.data}\r\n            updateData={updateData}\r\n            singleView={singleView}\r\n            setSingleView={setSingleView}\r\n          />\r\n        }\r\n\r\n        {\r\n          !loading &&\r\n          <Maps\r\n            loading={loading}\r\n            data={state.data}\r\n            updateData={updateData}\r\n            setSingleView={setSingleView}\r\n          />\r\n        }\r\n\r\n        <Reports />\r\n\r\n      </MapContext.Provider>\r\n    </div>\r\n  )\r\n}","import React, {useContext, useEffect, useState} from 'react'\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {AuthContext} from \"../context/AuthContext\";\r\n\r\nexport const AuthPage = () => {\r\n  const auth = useContext(AuthContext)\r\n  const {loading, error, request, clearError} = useHttp()\r\n  const [form, setForm] = useState({\r\n    email: '',\r\n    password: ''\r\n  })\r\n\r\n  useEffect(() => {\r\n    console.log(error)\r\n    clearError()\r\n  }, [clearError, error])\r\n\r\n  const changeHandler = event => {\r\n    setForm({...form, [event.target.name]: event.target.value})\r\n  }\r\n\r\n  const authHandler = async (event) => {\r\n    event.preventDefault()\r\n    try {\r\n      const data = await request('/api/auth/login', 'POST', {...form})\r\n      auth.login(data.token, data.userId)\r\n    } catch (e) {}\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Авторизуйтесь</h1>\r\n      <form>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"email\"\r\n          placeholder=\"Введите email\"\r\n          onChange={changeHandler}\r\n        />\r\n\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Введите пароль\"\r\n          onChange={changeHandler}\r\n        />\r\n\r\n        <button\r\n          type=\"submit\"\r\n          onClick={authHandler}\r\n        >\r\n          Отправить\r\n        </button>\r\n\r\n      </form>\r\n    </div>\r\n  )\r\n}","import {useState, useCallback, useEffect} from 'react'\r\n\r\nconst storageName = 'userData'\r\n\r\nexport const useAuth = () => {\r\n  const [token, setToken] = useState(null)\r\n  const [userId, setUserId] = useState(null)\r\n\r\n  const login = useCallback((jwtToken, id) => {\r\n    setToken(jwtToken)\r\n    setUserId(id)\r\n\r\n    localStorage.setItem(storageName, JSON.stringify({\r\n      userId: id, token: jwtToken\r\n    }))\r\n  }, [])\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null)\r\n    setUserId(null)\r\n\r\n    localStorage.removeItem(storageName)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const data = JSON.parse(localStorage.getItem(storageName))\r\n\r\n    if (data && data.token) {\r\n      login(data.token, data.userId)\r\n    }\r\n  }, [login])\r\n\r\n  return {login, logout, token, userId}\r\n\r\n}","import React from 'react'\r\nimport {BrowserRouter as Router} from \"react-router-dom\"\r\nimport {useRoutes} from \"./routes\"\r\nimport {useAuth} from \"./hooks/auth.hook\"\r\nimport {AuthContext} from \"./context/AuthContext\"\r\nimport './scss/main.scss'\r\n\r\n\r\nfunction App() {\r\n\r\n  const {token, login, logout, userId} = useAuth()\r\n  const isAuthenticated = !!token\r\n  const routes = useRoutes(isAuthenticated);\r\n\r\n  return (\r\n      <AuthContext.Provider value={{\r\n        token, login, logout, userId, isAuthenticated\r\n      }}>\r\n        <Router>\r\n          {routes}\r\n        </Router>\r\n      </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport {Redirect, Route, Switch} from \"react-router-dom\";\r\nimport {AdminPage} from './pages/AdminPage'\r\nimport {MapPage} from \"./pages/MapPage\";\r\nimport {AuthPage} from \"./pages/AuthPage\";\r\n\r\nexport const useRoutes = isAuthenticated => {\r\n    if (isAuthenticated) {\r\n        return (\r\n            <Switch>\r\n                <Route path=\"/admin\">\r\n                    <AdminPage />\r\n                </Route>\r\n                <Route path=\"/detail/:id\">\r\n                    <MapPage />\r\n                </Route>\r\n                <Route path=\"/\">\r\n                  <MapPage />\r\n                </Route>\r\n                <Redirect to=\"/\"/>\r\n            </Switch>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Switch>\r\n          <Route path=\"/admin\">\r\n            <AuthPage />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <MapPage />\r\n          </Route>\r\n          <Route path=\"/detail/:id\">\r\n            <MapPage />\r\n          </Route>\r\n          <Redirect to=\"/\" />\r\n        </Switch>\r\n    )\r\n}","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport 'materialize-css/dist/css/materialize.min.css'\r\nimport App from './App'\r\n\r\ndocument.documentElement.lang = 'ru'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}